## MongoDB

#### Q1. Which command adds members to the replica set from MongoDB shell?

- [x] `rs.add("<hostname>")`
- [ ] `replicaSetAdd("<hostname>")`
- [ ] `rs.insert("<hostname>")`
- [ ] `replica.add("<hostname>")`

#### Q2. Which MongoDB shell command should you use to back up a database?

- [ ] restore
- [ ] backup
- [ ] mongobackup
- [x] mongodump

#### Q3. Which shell query displays all citizens with an age greater than or equal to 21?

- [ ] `db.citizens.select('WHERE age >= 21')`
- [ ] `db.citizens.where('age >= 21')`
- [ ] `db.citizens.find('WHERE age >= 21')`
- [x] `db.citizens.find({age: {$gte: 21}})`

#### Q4. What does a MongoDB collection consist of?

- [ ] data
- [x] documents
- [ ] fields
- [ ] rows

#### Q5. Given an ObjectId in `_id`, how do you get the time it was created?

- [ ] `getDateTime(_id)`
- [ ] `_id.createDate()`
- [x] `_id.getTimestamp()`
- [ ] `_id.getDateTime()`

#### Q6. Given a cursor named myCursor, which command returns a boolean value?

- [x] myCursor.hasNext()
- [ ] myCursor.sort()
- [ ] myCursor.next()
- [ ] myCursor.find()

#### Q7. Which command returns a specific document in the user's collection?

- [x] `db.users.find({_id: 1})`
- [ ] `db.users.seek({_id: 1})`
- [ ] `db.users.query({_id: 1})`
- [ ] `db.query.users({_id: 1})`

#### Q8. To import a JSON array into Mongo, what flags are needed with MongoDBimport?

- [ ] `--type jsonArray`
- [ ] `--json`
- [ ] `--type json`
- [x] `--jsonArray`

#### Q9. Choose the shell command that connects to a MongoDB database.

- [x] mongo
- [ ] mongod
- [ ] mongoconnect
- [ ] dbconnect

#### Q10. In the MongoDB shell, how can you tell if an index was used with a query?

- [x] db.customers.find({lastName: 'smith'}).explain()
- [ ] db.customers.find({lastName: 'smith'}).perf()
- [ ] db.customers.find({lastName: 'smith'}).plan()
- [ ] db.customers.find({lastName: 'smith'}).usedIndex()

#### Q11. Suppose your aggregation pipeline terminated with an exception referring to exceeded memory limit. What is the best way to resolve the issue?

- [ ] Set useMemory to twice amount indicated in exception.
- [ ] Switch a 64 bit instance of MongoDB.
- [ ] Increase the memory of the MongoDB server.
- [x] Set allowDiskUse to true.

#### Q12. What is the recommended way to delete a user?

- [ ] db.deleteUser("user")
- [ ] db.removeUser("user") DEPRECATED
- [ ] db.remove("user")
- [x] db.dropUser("user")

#### Q13. What the primary database in a replica set fails, when does failover begin?

- [ ] once the primary has been down for 10 minutes
- [ ] once the primary reboots
- [x] immediately
- [ ] after the administrator reboots the primary


#### Q18. You have a collection named restaurants with the geographical information stored in the location property, how do you create a geospatial index on it?

- [x] `db.restaurants.createIndex({location: "2dsphere"})`
- [ ] `db.restaurants.geospatial({location: "2dsphere"})`
- [ ] `db.restaurants.createIndex("2dsphere":"location")`
- [ ] `db.restaurants.createIndex({geospatial: "location"})`

#### Q14. How do you find documents with a matching item in an embedded array?

- [ ] `db.customers.findmatch ({"jobs":"secretary"})`
- [ ] `db.customers.find ({"jobs:secretary"})`
- [ ] `db.customers.find ({"jobs":["secretary"]})`
- [x] `db.customers.find ({"jobs":"secretary"})`


#### Q15. Which field is required of all MongoDB documents?

- [x] `_id`
- [ ] `_name`
- [ ] ObjectId
- [ ] mongoDB is schema-less so no field is required


#### Q16. What is the correct query to find all of the people who have a home phone number defined?

- [ ] `db.person.find({exists: 'homePhone'});`
- [ ] `db.person.exists({homePhone: true});`
- [x] `db.person.find({homePhone: {$exists: true}});`
- [ ] `db.person.has('homePhone');`

#### Q17. Which file in the MongoDB directly holds the MongoDB daemon?

- [ ] mongodb
- [x] mongo-daemon
- [ ] daemon
- [x] mongod

#### Q18. You have just secured your previously unsecured MongoDB server, but the server is still not requiring authentication. What is the best option?

- [x] Restart the `mongod` process.
- [ ] Issue the `secure()` command.
- [ ] Issue the `mongoimport` command.
- [ ] Issue the `authenticate()` command.

#### Q19. What is the most accurate statement regarding MongoDB and ad hoc queries?

- [x] MongoDB does not allow ad hoc queries; all queries require an index.
- [ ] Ad hoc queries are allowed only in the paid version.
- [ ] Ad hoc queries are allowed only through the ad hoc command.
- [x] MongoDB allows ad hoc queries.



#### Q20. What option can be passed to start the MongoDB shell without connecting to a database?

- [ ] `-db=null`
- [ ] `--shell-only`
- [ ] `--free`
- [x] `-nodb`

#### Q21. How can you improve the appearance of the output JSON that contains the `_id`?

- [ ] `Use db.collection.set({$_id:pretty})`
- [ ] `Create a second index`
- [x] `Use db.collection.format(numeric)`
- [ ] `Use $_id = value`

#### Q22. What happens to a Replica set oplog if it runs out of memory?

- [x] `The oplog will be saved on one of the secondary servers.`
- [ ] `The oplog is capped collection and can't run out of memory`
- [ ] `The MongoDB instance will fail`
- [ ] `The oplog will stop recording logging information`

#### Q23. MongoDB ships with a variety of files. Which file runs the MongoDB shell?

- [x] mongo
- [ ] mongo-s
- [ ] shell
- [ ] mongo-shell

#### Q24. Suppose you are using the mongoimport command to import personnel data and there is a unique index on the email field. What happens when there are duplicate emails in the import?

- [ ] The import command aborts without importing any records.
- [ ] The import command imports records upto but not including the record, and then aborts.
- [ ] The import command doesn't import the bad document but does import the rest.
- [x] The import command prompts you to correct the bad record.

#### Q25. You have a collection with millions of documents. Each time you attempt to sort. MongoDB runs out of memory. What might help?

- [ ] Use the purge operator before the sort.
- [ ] Return the entire collection and sort on the client.
- [ ] Pass the --more-memory option.
- [x] Create an index on the field you are sorting.

#### Q26. You need to be able to quickly find a word in a text field. What should you do?

- [ ] Create a text index on the field and do a $text Query.
- [ ] Create an single field index in descending order, and do a query for the word.
- [x] Do a $text query.
- [ ] Create a $regex on the fields, and do a $regex query.


#### Q28. After installing MongoDB on your machine, what must you do before launching Mongo?

- [ ] Create a user account.
- [ ] Register online.
- [ ] Create a data directory.
- [x] Establish security credentials.


#### Q30. From the MongoDB shell, how do you display all of a database's memory usage?

- [ ] db.size()
- [ ] db.info()
- [ ] db.memory()
- [x] db.stats()

#### Q31. How do you create a new MongoDB user?

- [x] db.createUser({})
- [ ] db.insert({user: 1})
- [ ] db.customers.newUser({})
- [ ] db.newUser({})

[MongoDB documentation](https://docs.mongodb.com/manual/tutorial/create-users/)

#### Q32. What is the internal data structure of a MongoDB document?

- [ ] JSON (JavaScript Object Notation)
- [x] BSON (Binary JSON)
- [ ] ORM (object relational mode)
- [ ] MBF (MongoDB binary format)

[MongoDB documentation](https://www.mongodb.com/docs/manual/core/document/)
[JSON and BSON](https://www.mongodb.com/json-and-bson)


#### Q33. What should the priority of a member be in order to prevent it from becoming the primary in replica set?

- [ ] 1
- [ ] null
- [x] 0
- [ ] -1

[MongoDB reference](https://www.mongodb.com/docs/manual/tutorial/configure-secondary-only-replica-set-member/#assign-priority-value-of-0)

#### Q34. You need to add an index to the large name collection in your production database. You do not want to have disruption of service for your users and you can't afford to have a team to do the work during after hours. What should you do?

- [ ] Use the reIndex() command to add the index quickly.
- [x] Use the createIndex() command with the option background = true.
- [ ] Use the createIndex() command.
- [ ] Use the createIndex() command with the option parallel = true.

[MongoDB reference](https://www.mongodb.com/docs/v4.0/reference/method/db.collection.createIndex/#options)

#### Q35. When using aggregation $convert. which is not a parameter?

- [ ] input
- [x] output
- [ ] to
- [ ] onError

[MongoDB reference](https://www.mongodb.com/docs/manual/reference/operator/aggregation/convert/#definition)

#### Q36. All tag values in tag sets must be \_.

- [ ] JSON
- [ ] integers
- [x] strings
- [ ] XML

[MongoDB reference](https://www.mongodb.com/docs/manual/core/read-preference-tags/)

#### Q37. When using the mongoimport command, how can you drop the database before importing?

- [x] Use the -d option.
- [ ] Use the mongooverwrite command instead of mongoimport.
- [ ] Use the -drop option.
- [ ] Drop the database manually before importing.

#### Q38. To import a CSV file into MongoDB, which command should you issue?

- [ ] upload
- [ ] mongorestore
- [ ] mongoi
- [x] mongoimport

#### Q39. A critical record must be replicated to the two other servers in the set. Which query guarantees that it is inserted as desired?

- [ ] `db.inventory.insert({ prodid: "tab1122", qty : 10}, { writeConcern: { w: 2, wtimeout: 5000} })`
- [ ] `db.inventory.insert({ prodid: "tab1122", qty : 10}, { writeConcern: { j: true} })`
- [ ] `db.inventory.insert({ prodid: "tab1122", qty : 10}, { writeConcern: { w: 2, j:false, wtimeout: 5000} })`
- [x] `db.inventory.insert({ prodid: "tab1122", qty : 10}, { writeConcern: { w: 2, j:true, wtimeout: 5000} })`

[MongoDB reference](https://www.mongodb.com/docs/manual/reference/write-concern/)

#### Q42. After using the dropIndexes() command on your collection, one index remains.What can you do to drop the the remaining index?

- [ ] Use dropIndexes({all:1}) with the all parameter.
- [x] The required_id index cannot be deleted.
- [ ] Call dropIndex({"<em>id</em>":1}) to force its removal.
- [ ] Call dropIndex({"<em>id</em>"}) to force its removal.

[MongoDB reference](https://www.mongodb.com/docs/manual/reference/method/db.collection.dropIndex/)

#### Q43. To scale horizontally, what does MongoDB use?

- [x] sharding
- [ ] replication
- [ ] partition
- [ ] backup

[MongoDB reference](https://www.mongodb.com/basics/scaling)